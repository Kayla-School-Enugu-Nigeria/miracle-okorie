<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kids Music & Typing World</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(45deg,#6a11cb,#2575fc);
    background-size:400% 400%;
    animation:bg 10s infinite alternate;
    color:white;
    text-align:center;
}
@keyframes bg{
    0%{background-position:left;}
    100%{background-position:right;}
}
header{
    padding:20px;
    font-size:40px;
    font-weight:bold;
}
.section{
    background:white;
    color:black;
    margin:20px auto;
    padding:20px;
    border-radius:15px;
    width:90%;
    max-width:1000px;
    box-shadow:0 10px 20px rgba(0,0,0,0.3);
}
button{
    padding:10px 20px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
    margin:5px;
}
button:hover{opacity:0.8}

/* Piano */
.piano{
    display:flex;
    justify-content:center;
    margin-top:20px;
}
.key{
    width:60px;
    height:200px;
    background:white;
    border:1px solid black;
    margin:1px;
    position:relative;
    cursor:pointer;
}
.key.active{
    background:#ffd700;
}
.black{
    width:40px;
    height:120px;
    background:black;
    position:absolute;
    top:0;
    left:40px;
    z-index:2;
    color:white;
}
.black.active{
    background:#444;
}

/* Typing Game */
#typingText{
    font-size:20px;
    margin-bottom:10px;
}
#typingInput{
    width:80%;
    padding:10px;
    font-size:18px;
}
.stats{
    margin-top:10px;
    font-size:18px;
}
.correct{color:green;}
.wrong{color:red;}
</style>
</head>

<body>

<header>üéπ Kids Piano & Typing Fun ‚å®Ô∏è</header>

<!-- Piano Section -->
<div class="section">
<h2>üéµ Piano Game</h2>
<p>Use keys: A S D F G H J</p>
<div class="piano" id="piano"></div>
</div>

<!-- Typing Section -->
<div class="section">
<h2>‚å®Ô∏è Typing Speed Game</h2>
<div id="typingText"></div>
<input type="text" id="typingInput" placeholder="Start typing here...">
<div class="stats">
Time: <span id="time">0</span>s |
WPM: <span id="wpm">0</span> |
Accuracy: <span id="accuracy">100</span>%
</div>
<button onclick="startTyping()">Start Game</button>
</div>

<script>
// ---------- PIANO GAME ----------
const notes = {
    'A':261.63,
    'S':293.66,
    'D':329.63,
    'F':349.23,
    'G':392.00,
    'H':440.00,
    'J':493.88
};

const piano = document.getElementById("piano");

Object.keys(notes).forEach(key=>{
    const div=document.createElement("div");
    div.classList.add("key");
    div.textContent=key;
    div.onclick=()=>playNote(key,div);
    piano.appendChild(div);
});

function playNote(key,element){
    const audioCtx=new (window.AudioContext || window.webkitAudioContext)();
    const oscillator=audioCtx.createOscillator();
    oscillator.type="sine";
    oscillator.frequency.value=notes[key];
    oscillator.connect(audioCtx.destination);
    oscillator.start();
    setTimeout(()=>oscillator.stop(),300);
    element.classList.add("active");
    setTimeout(()=>element.classList.remove("active"),200);
}

document.addEventListener("keydown",(e)=>{
    const key=e.key.toUpperCase();
    if(notes[key]){
        const keys=document.querySelectorAll(".key");
        keys.forEach(k=>{
            if(k.textContent===key) playNote(key,k);
        });
    }
});

// ---------- TYPING GAME ----------
const sentences=[
"Learning is fun and exciting",
"Practice makes perfect every day",
"Music and typing improve the brain",
"Children can achieve great things"
];

let startTime, timerInterval, currentSentence;

function startTyping(){
    currentSentence=sentences[Math.floor(Math.random()*sentences.length)];
    document.getElementById("typingText").innerHTML=currentSentence;
    document.getElementById("typingInput").value="";
    document.getElementById("typingInput").focus();
    startTime=new Date();
    clearInterval(timerInterval);
    timerInterval=setInterval(updateStats,1000);
}

function updateStats(){
    const input=document.getElementById("typingInput").value;
    const time=Math.floor((new Date()-startTime)/1000);
    document.getElementById("time").textContent=time;

    const words=input.trim().split(" ").length;
    const wpm=time>0?Math.round((words/time)*60):0;
    document.getElementById("wpm").textContent=wpm;

    let correct=0;
    for(let i=0;i<input.length;i++){
        if(input[i]===currentSentence[i]) correct++;
    }
    const accuracy=input.length>0?Math.round((correct/input.length)*100):100;
    document.getElementById("accuracy").textContent=accuracy;

    if(input===currentSentence){
        clearInterval(timerInterval);
        alert("üéâ Great Job! Final WPM: "+wpm);
    }
}
</script>

</body>
</html>
